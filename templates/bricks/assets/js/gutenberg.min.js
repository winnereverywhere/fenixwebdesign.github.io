function bricksAdminGutenbergEditWithBricks(){if(window.self===window.top){var e=document.querySelector("#wp-admin-bar-edit_with_bricks a");e||((e=document.createElement("a")).id="wp-admin-bar-edit_with_bricks",e.href=window.bricksData.builderEditLink,e.innerText=window.bricksData.i18n.editWithBricks),window.wp.data.subscribe((function(){setTimeout((function(){var t=document.querySelector(".edit-post-header-toolbar");if(t&&t instanceof HTMLElement&&!t.querySelector("#toolbar-edit_with_bricks")){var i=document.createElement("a");i.id="toolbar-edit_with_bricks",i.classList.add("button"),i.classList.add("button-primary"),i.innerText=e.innerText,i.href=e.href,t.append(i),i.addEventListener("click",(function(e){e.preventDefault();var t=window.wp.data.select("core/editor").getEditedPostAttribute("title"),i=window.wp.data.select("core/editor").getCurrentPostId();t||window.wp.data.dispatch("core/editor").editPost({title:"Bricks #"+i}),window.wp.data.dispatch("core/editor").savePost();var n=function(e){setTimeout((function(){window.wp.data.select("core/editor").isSavingPost()||window.wp.data.select("core/editor").isAutosavingPost()?n(e):window.location.href=e}),400)};n(e.target.href)}))}}),1)}))}}function bricksHandleEmptyContent(){let e=document.querySelector(".is-root-container"),t=0;!function i(){if(!(t>=10)){if(e=document.querySelector(".is-root-container"),!e)return t++,void setTimeout(i,50);if(window.self!==window.top)handleEmptyContentCore(e);else{!document.querySelector('iframe[name="editor-canvas"]')&&window.wp&&window.wp.data&&window.wp.data.subscribe((function(){setTimeout((function(){handleEmptyContentCore(e)}),1)}))}}}()}function handleEmptyContentCore(e){if(e&&!e.querySelector(".bricks-block-editor-notice-wrapper")&&1==window.bricksData.showBuiltWithBricks&&!window.useDefaultEditor){e.querySelectorAll(":scope > *").forEach((e=>{e.classList.contains("bricks-block-editor-notice-wrapper")||(e.style.display="none")}));const t=document.createElement("div");t.className="bricks-block-editor-notice-wrapper";const i=document.createElement("p");i.className="bricks-editor-message",i.textContent=window.bricksData.i18n.bricksActiveMessage;const n=document.createElement("div");n.className="bricks-editor-buttons";const o=document.createElement("a");o.className="button button-primary",o.href=window.bricksData.builderEditLink||"#",o.textContent=window.bricksData.i18n.editWithBricks,o.addEventListener("click",(e=>{e.preventDefault(),window.self!==window.top?window.top.postMessage({type:"bricksOpenBuilder",url:window.bricksData.builderEditLink},"*"):window.location.href=window.bricksData.builderEditLink}));const r=document.createElement("a");r.className="button",r.href="#",r.textContent=window.bricksData.i18n.useDefaultEditor,r.addEventListener("click",(i=>{i.preventDefault(),window.useDefaultEditor=!0,e.querySelectorAll(":scope > *").forEach((e=>{e.classList.contains("bricks-block-editor-notice-wrapper")||(e.style.display="")})),t.remove()})),n.append(o,r),t.append(i,n),e.appendChild(t)}}window.self===window.top&&window.addEventListener("message",(e=>{"bricksOpenBuilder"===e.data.type&&(window.location.href=e.data.url)})),document.addEventListener("DOMContentLoaded",(function(e){bricksAdminGutenbergEditWithBricks(),bricksHandleEmptyContent()}));