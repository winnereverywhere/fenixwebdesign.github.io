class BricksGoogleMarker extends google.maps.OverlayView{constructor(t){super(),this.position=t.position instanceof google.maps.LatLng?t.position:new google.maps.LatLng(t.position.lat,t.position.lng),this.content=t.content,this.map=t.map,this.title=t.title||"",this.zIndex=t.zIndex||1,this.clickable=!1!==t.clickable,this.visible=!1!==t.visible,this.div=null,this.clickListener=null,this.keyUpListener=null,this.markerData=t.markerData||{},this.setMap(this.map)}onAdd(){this.div=document.createElement("div"),this.div.className="brx-google-marker",this.div.style.position="absolute",this.div.style.cursor=this.clickable?"pointer":"default",this.div.style.zIndex=this.zIndex,this.div.style.transform="translate(-50%, -100%)",this.div.title=this.title||"Google Marker",this.div.setAttribute("role","button"),this.div.setAttribute("tabindex","0"),this.visible||(this.div.style.display="none"),"string"==typeof this.content?this.div.innerHTML=this.content:this.content instanceof HTMLElement&&this.div.appendChild(this.content),this.clickable&&(this.clickListener=()=>{google.maps.event.trigger(this,"click")},this.div.addEventListener("click",this.clickListener)),this.keyUpListener=t=>{"Enter"===t.key?(t.preventDefault(),google.maps.event.trigger(this,"click")):"Tab"===t.key?this.map.panTo(this.getPosition()):"Escape"===t.key&&(t.preventDefault(),this.markerData?.locationInfo?.infoBox&&(google.maps.event.trigger(this.markerData.locationInfo.infoBox,"closeclick"),this.markerData.locationInfo.infoBox?.close()))},this.div.addEventListener("keyup",this.keyUpListener);this.getPanes().overlayMouseTarget.appendChild(this.div)}draw(){if(!this.div)return;const t=this.getProjection().fromLatLngToDivPixel(this.position);t&&(this.div.style.left=t.x+"px",this.div.style.top=t.y+"px")}onRemove(){this.div&&(this.clickListener&&this.div.removeEventListener("click",this.clickListener),this.keyUpListener&&this.div.removeEventListener("keydown",this.keyUpListener),this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.div=null)}getPosition(){return this.position instanceof google.maps.LatLng?this.position:new google.maps.LatLng(this.position.lat,this.position.lng)}setPosition(t){this.position=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng),this.draw()}setVisible(t){this.visible=t,this.div&&(this.div.style.display=t?"block":"none")}getVisible(){return this.visible}setMap(t){super.setMap(t)}setContent(t){this.content=t,this.div&&("string"==typeof t?this.div.innerHTML=t:t instanceof HTMLElement&&(this.div.innerHTML="",this.div.appendChild(t)))}setZIndex(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t)}}